<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started using vertical • vertical</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Get started using vertical">
<meta property="og:description" content="vertical">
<meta property="og:image" content="https://crumplab.github.io/vertical/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-79429674-9"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-79429674-9');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vertical</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.1.0.0000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://link.springer.com/article/10.3758/s13428-020-01436-x">Sharing and organizing research products as R Packages</a>
    </li>
    <li>
      <a href="https://psyarxiv.com/jks2u/">Preprint</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../articles/recs.html">Suggested R Packages</a>
</li>
<li>
  <a href="../articles/vertical.html">Get started</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://github.com/CrumpLab/vertical">
    <span class="fa fa-lg fa-github"></span>
     
    source code
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="vertical_files/header-attrs-2.3/header-attrs.js"></script><script src="vertical_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get started using vertical</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/CrumpLab/vertical/blob/master/vignettes/vertical.Rmd"><code>vignettes/vertical.Rmd</code></a></small>
      <div class="hidden name"><code>vertical.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<div id="motivation" class="section level3">
<h3 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h3>
<p><code>vertical</code> is an R-based structured workflow for creating and sharing research assets in the form of an extended R package. There are several reasons why the R package format is useful for sharing a variety of research assets (from experiment scripts, to papers, slides and posters).</p>
<ol style="list-style-type: decimal">
<li>R packages have a standardized and well-organized file-structure that is useful for organizational purposes.</li>
<li>Researchers often develop custom functions for analysis, and putting them in an R package makes sharing the functions easy.</li>
<li>R packages can include data from a research project, and a natural way to document the data using the same schemes for documenting R functions.</li>
<li>R packages include various documents through the vignettes folder, which in principle could include various formats for communicating research, such as a manuscript or slide deck written in R Markdown.</li>
<li>R packages can be automatically rendered into websites through <code>pkgdown</code>, providing a compelling format for sharing research assets.</li>
</ol>
<p>Vertical combines the benefits of two R ecosystems for creating and sharing research project assets, these include the ecosystems of R Markdown and R packages. So vertical is:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">vertical</span> <span class="kw">&lt;-</span> <span class="no">RMarkdown</span> + <span class="no">RPackages</span></pre></body></html></div>
<p>R Markdown is a plain text document format that, 1) allows regular text to be combined with chunks of code, and 2) can be compiled to multiple output formats, such as .pdf and webpages (HTML). R Markdown offers a strategy for transparent and reproducible research because analysis scripts along with their output (e.g., results and figures), can be embedded directly in a document. R Markdown has become a large ecosystem and is capable of several forms of document creation, from journal articles, to posters and slide-decks, and much more. In general, if R Markdown is used to create a research asset, it can be included in a <code>vertical</code> project with ease. A comprehensive manual for all things R Markdown <span class="citation">(Xie, Allaire, and Grolemund 2018)</span> is available here <a href="https://bookdown.org/yihui/rmarkdown/" class="uri">https://bookdown.org/yihui/rmarkdown/</a>.</p>
<p>R Packages are a standard for creating and sharing libraries of R functions. By default, R packages can also include data and R Markdown documents, so the format is already suitable for packaging common research assets such as functions, data, and manuscripts. R Packages are an ecosystem in that several R Packages exist to facilitate the process of creating and sharing R packages, such as <a href="https://usethis.r-lib.org">usethis</a> <span class="citation">(Wickham and Bryan 2019)</span>, <a href="https://pkgdown.r-lib.org">pkgdown</a> <span class="citation">(Wickham and Hesselberth 2019)</span>, and <a href="https://devtools.r-lib.org">devtools</a> <span class="citation">(Wickham, Hester, and Chang 2019)</span>. Furthermore, <code>pkgdown</code> provides a method to automatically render an R package into a website that displays function documentation as well as R Markdown documents (typically tutorials for using the package). We refer readers to Wickham <span class="citation">(2015)</span> for an authoritative and in-depth guide on creating R packages <a href="http://r-pkgs.had.co.nz">http://r-pkgs.had.co.nz</a>.</p>
<p><code>vertical</code> is a template for extending R Packages and <code>pkgdown</code> websites to include additional assets common to psychological research projects. To appreciate the extension consider the basic skeleton for building an R package that is generated by RStudio.</p>
<p><img src="imgs/r-package-skeleton.png" width="100%"></p>
<p>In the minimal example, RStudio is used to create a new project by choosing the R package template. The new project is populated with DESCRIPTION and NAMESPACE files, an R folder to write .R functions, and a man folder to write .Rd files for function documentation. RStudio automatically recognizes the project as an R package, and provides a build tab in the IDE to install the package. A pkgdown website can be built by one command <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code>.</p>
</div>
<div id="vertical-workflow" class="section level3">
<h3 class="hasAnchor">
<a href="#vertical-workflow" class="anchor"></a>vertical workflow</h3>
<p>Installing the <code>vertical</code> package adds a new project template to RStudio (RStudio should be restarted after <code>vertical</code> is installed so that it recognizes the template). Users can initiate a new vertical project from RStudio by choosing the vertical project option when creating a new project. By default a vertical project is structured in the following manner:</p>
<p><img src="imgs/vertical-project.png" width="100%"></p>
<p>The new project contains a more complete skeleton of an R package (e.g., folders for data-raw, data, and vignettes), <code>_pkgdown.yml</code> for controlling website parameters when rendered with <code>pkgdown</code>, and additional folders for research project assets such as <code>experiments</code>, <code>manuscript</code>, <code>model</code>, <code>posters</code>, and <code>slides</code>. These additional folders can simply be locations to store final products (e.g., a .zip file for experiment scripts, a .pdf for the manuscript, PowerPoint for the slides, etc.); however, each of these assets can also be created as R Markdown documents. So, by default <code>vertical</code> includes R Markdown templates from other packages within each folder for building each type of content. As a result, <code>vertical</code> suggests using R as a single-platform solution stack for research asset creation.</p>
</div>
<div id="vertical-website" class="section level3">
<h3 class="hasAnchor">
<a href="#vertical-website" class="anchor"></a>vertical website</h3>
<p>A major impetus behind <code>vertical</code> is to facilitate sharing of research assets. For example, the benefit of using a <code>vertical</code> workflow is that a website presenting all of the research assets can be automatically rendered through <code>pkgdown</code>. For example, the figure below shows a <code>vertical</code> project website, with example page content shown in the boxes.</p>
<p><img src="imgs/vertical-website.png" width="100%"></p>
<p>Once content has been created in each of the folders, or a subset of them, the website can be rendered in one call using <code><a href="../reference/build_vertical.html">vertical::build_vertical()</a></code>.</p>
<p>Depending on the nature of the research project, a vertical website is capable of sharing several assets. At a minimum, the landing page can be used to overview the research project. The navigation bar can be used to download a .pdf of the manuscript, as well as posters and slides. Supplementary materials can be written in R markdown and displayed directly on the website. Similarly, model code and supplementary data analyses can be included directly on the website. If the project includes a browser-based behavioral experiment, in addition to sharing the source code for the experiment, a demonstration of the experiment can be run directly from the website. Finally, because a vertical website is powered by pkgdown, the website provides pages for R functions and data documentation.</p>
</div>
<div id="sharing-vertical-on-github-and-osf" class="section level3">
<h3 class="hasAnchor">
<a href="#sharing-vertical-on-github-and-osf" class="anchor"></a>Sharing vertical on Github and OSF</h3>
<p>There are several methods for sharing research assets as online repositories, for example using Github or a project on the <a href="https://osf.io">open science framework</a> (OSF). <code>vertical</code> is built with Github and OSF integration in mind, however a <code>vertical</code> project could in principle be shared in any repository.</p>
<p>Github is very convenient for sharing <code>vertical</code> projects for several reasons:</p>
<ol style="list-style-type: decimal">
<li>R packages stored on Github repositories can be installed using <code>devtools</code>. <code>vertical</code> projects may contain R packages, so Github is useful for allowing others to install the package from their R console.</li>
<li>
<code>pkgdown</code> websites assume Github integration, and compiles the website source code into the <code>docs</code> folder. The same occurs in a vertical project. Github repositories have the option to display a website through Github pages (activated in the repository settings), which serves any content in a repository <code>docs</code> folder as a static website (the URL for the website is shown in the settings page after Github pages is activated). So, Github provides a convenient and free method to share a <code>vertical</code> website.</li>
<li>RStudio supports git version control, so a <code>vertical</code> project can be created as a git repository. Users unfamiliar with the benefits of version control inherit those benefits (and/or may learn about them) by activating them in a <code>vertical</code> project.</li>
<li>Research assets in psychological science are commonly shared on OSF, which among other things provides a digital object identifier for a project, and a persistent means of storing the assets. OSF provides Github integration, allowing the content of an OSF project to be automatically populated by the content of a linked Github repository.</li>
</ol>
</div>
</div>
<div id="tutorial" class="section level1">
<h1 class="hasAnchor">
<a href="#tutorial" class="anchor"></a>Tutorial</h1>
<div id="install-vertical" class="section level2">
<h2 class="hasAnchor">
<a href="#install-vertical" class="anchor"></a>Install vertical</h2>
<p><code>vertical</code> requires an installation of <code>devtools</code></p>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("devtools")</a></code></pre>
<p>Then, run the following to install <code>vertical</code>.</p>
<pre><code><a href="https://devtools.r-lib.org//reference/remote-reexports.html">devtools::install_github("CrumpLab/vertical")</a></code></pre>
<p>The following tutorial on <code>vertical</code> describes the creation of a vertical project, discussion of the vertical workflow for various types of content creation, rendering a vertical project website, and sharing vertical projects on Github and OSF. We attempt simple examples in each case, and refer readers to other guides for more in depth treatment when necessary.</p>
</div>
<div id="creating-a-vertical-project" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-vertical-project" class="anchor"></a>Creating a vertical project</h2>
<p><a href="#install-vertical">Install vertical</a>, restart RStudio, then follow these steps to initialize a new <code>vertical</code> project. <strong>IMPORTANT</strong>: when you choose a name it must be <a href="http://r-pkgs.had.co.nz/package.html#naming">a valid R package name</a>. For example, the name must contain letters, numbers, or periods (e.g., my.name), but no periods at the end. This means no spaces, dashes or underscores.</p>
<p><img src="imgs/vertical-new.png" width="50%"></p>
<p>You can also create a vertical project from the console, see the documentation for <code><a href="../reference/vertical_project.html">vertical_project()</a></code> for more options. This loads the R Project Template window from the console.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="kw pkg">vertical</span><span class="kw ns">::</span><span class="fu"><a href="../reference/vertical_project.html">vertical_project</a></span>()</pre></body></html></div>
</div>
<div id="default-vertical-template" class="section level2">
<h2 class="hasAnchor">
<a href="#default-vertical-template" class="anchor"></a>Default vertical template</h2>
<p>By default, a fresh <code>vertical</code> project contains the following files and folder structure:</p>
<p><img src="imgs/vertical-structure.png" width="75%"></p>
</div>
<div id="building-the-vertical-website" class="section level2">
<h2 class="hasAnchor">
<a href="#building-the-vertical-website" class="anchor"></a>Building the vertical website</h2>
<p>A new <code>vertical</code> project is populated with template examples for every kind of content supported by vertical (e.g., R functions, manuscript, poster, slides, supplementary materials, and even writing a browser-based behavioral experiment with jspsych). As a result, an example vertical website (showing templated content) can be rendered immediately by running the following in the console:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="kw pkg">vertical</span><span class="kw ns">::</span><span class="fu"><a href="../reference/build_vertical.html">build_vertical</a></span>()</pre></body></html></div>
<p>The above line should write the HTML files for the website to the <code>docs</code> folder, and the resulting website should appear in a browser window for inspection. NOTE: if you include a <code>papaja</code> manuscript, then you will require a latex installation in order to compile the manuscript to pdf (see, <a href="#apa-papers-with-papaja">APA papers with papaja</a>).</p>
</div>
<div id="r-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#r-packages" class="anchor"></a>R Packages</h2>
<p><code>vertical</code> projects can include an R package containing custom functions and data sets. This tutorial presents minimal examples for R package creation, and users interested in this functionality should consult Wickham’s guide for creating R packages <a href="http://r-pkgs.had.co.nz" class="uri">http://r-pkgs.had.co.nz</a>.</p>
<p>We suggest that users new to R package development use helper packages such as <a href="https://usethis.r-lib.org">usethis</a>, <a href="https://pkgdown.r-lib.org">pkgdown</a>, <a href="https://devtools.r-lib.org">devtools</a>, and <a href="https://roxygen2.r-lib.org">roxygen2</a> for managing the process. Wickham’s guide provides in depth tutorials about R package creation using these tools.</p>
<div id="r-package-meta-data" class="section level3">
<h3 class="hasAnchor">
<a href="#r-package-meta-data" class="anchor"></a>R package meta data</h3>
<p><code>vertical</code> runs <code><a href="https://usethis.r-lib.org/reference/create_package.html">usethis::create_package()</a></code> during initialization to create a new R package template. This includes generating a DESCRIPTION file used to provide metadata about the R package. An example DESCRIPTION file is below:</p>
<pre><code>Package: verticaltemplate
Title: What the Package Does (One Line, Title Case)
Version: 0.0.0.9000
Authors@R: 
    person(given = "Matt",
           family = "Crump",
           role = c("aut", "cre"),
           email = "mcrump@brooklyn.cuny.edu",
           comment = c(ORCID = "0000-0002-5612-0090"))
Description: What the package does (one paragraph).
License: MIT + file LICENSE
Encoding: UTF-8
LazyData: true
Suggests: 
    rmarkdown</code></pre>
<p>The Wickham guide discusses the role of the DESCRIPTION file in depth here: <a href="http://r-pkgs.had.co.nz/description.html" class="uri">http://r-pkgs.had.co.nz/description.html</a>. It is possible, through <code>usethis</code>, to set up defaults that auto-populate the DESCRIPTION with user information (for example, see <a href="https://usethis.r-lib.org/articles/articles/usethis-setup.html#store-default-values-for-description-fields-and-other-preferences">usethis setup</a>).</p>
</div>
<div id="adding-r-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-r-functions" class="anchor"></a>Adding R functions</h3>
<p>The following is an example of adding a new function to the R package in a vertical project.</p>
<p>New functions are added as .R files to the <code>R</code> folder. This can be automated by <code><a href="https://usethis.r-lib.org/reference/use_r.html">usethis::use_r("myfunction")</a></code>, which creates a new .R file inside the <code>R</code> folder, in this case with the name <code>myfunction.R</code>.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="co"># replace myfunction with your function name</span>
<span class="kw pkg">usethis</span><span class="kw ns">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span>(<span class="st">"myfunction"</span>)</pre></body></html></div>
<p>In this example, we will write a function that sums the integers between a first and second value. To begin, we decide to name the function <code>sum_range</code>, and create the .R file by running:</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="kw pkg">usethis</span><span class="kw ns">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span>(<span class="st">"sum_range"</span>)</pre></body></html></div>
<p>Next, the function is written in the newly created file <code>sum_range.R</code>. For example, the following is added, starting on line 1:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">sum_range</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">min</span>,<span class="no">max</span>){
  <span class="fu"><a href="https://rdrr.io/r/base/function.html">return</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="no">min</span>:<span class="no">max</span>))
}</pre></body></html></div>
<p>We will use <code>roxygen2</code> style commenting to provide documentation for the function. The documentation will be shown in the help menu when the package is installed, allow help for the function to be accessed from the console by <code>?sum_range</code>, and produce a webpage with the documentation when rendered by <code>pkgdown</code>. The alternative to <code>roxygen2</code> is to manually write an .Rd file in the <code>man</code> folder for the new function; <code>roxygen2</code> automates this process and allows the documentation to be added as comments in the .R file defining the function.</p>
<p>Make sure <code>roxygen2</code> is installed (using RStudio, or <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages('roxygen2')</a></code> from the console). RStudio may need to restart to recognize <code>roxygen2</code>. Before proceeding activate <code>roxygen2</code> documentation in RStudio, under Tools &gt; Project options…, and select the check-box for roxygen documentation:</p>
<p><img src="imgs/roxygen.png" width="50%"></p>
<p>Next, a template for <code>roxygen2</code> comments can be automatically generated from within the .R file using the following steps:</p>
<p><img src="imgs/roxygen-insert.png" width="100%"></p>
<p>A guide for documenting functions with <code>roxygen2</code> is available here <a href="http://r-pkgs.had.co.nz/man.html" class="uri">http://r-pkgs.had.co.nz/man.html</a>. In our example, we modify the <code>roxygen2</code> skeleton like so:</p>
<pre><code>#' Sum of an integer range
#'
#' @param min integer, a starting value
#' @param max integer, an ending value
#'
#' @return integer, the sum of the integers between min and max.
#' @export
#'
#' @examples
#' sum_range(min=1,max=10)

sum_range &lt;- function(min,max){
  return(sum(min:max))
}</code></pre>
<p>The last step is generate the .Rd file in the <code>man</code> folder, which is used to create the documentation. The .Rd file is generated automatically by <code><a href="https://devtools.r-lib.org//reference/document.html">devtools::document()</a></code>, or by the RStudio macro <code>Ctrl/Cmd + Shift + D</code>. For example, a new <code>sum_range.Rd</code> file like the following is saved to the <code>man</code> folder. This should not be edited by hand.</p>
<p><img src="imgs/new-rd.png" width="50%"></p>
</div>
<div id="r-package-compilation" class="section level3">
<h3 class="hasAnchor">
<a href="#r-package-compilation" class="anchor"></a>R package compilation</h3>
<p>At this stage we have added a new R function to the R package skeleton, but have not yet compiled and installed the R package. The R package can be built and installed in one step by pressing “Install and Restart” from the Build tab in RStudio. After this step, the package is installed on the local system, it will be shown in the list of packages along with constituent function documentation. The functions in the package can be loaded using the <code>library()</code> command.</p>
<p><img src="imgs/package-build.png" width="100%"></p>
<p>Relatedly, pkgdown can be used at this point to render the function documentation to the website by <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code>.</p>
<p><img src="imgs/pkgdown-build.png" width="75%"></p>
</div>
</div>
<div id="adding-data" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-data" class="anchor"></a>Adding Data</h2>
<p>Arbitrary data can be included in an R Package by placing R data files into a <code>data</code> folder. Importantly, data can be documented just like a function, which allows for clear and descriptive meta-data for the data object. <code>vertical</code> does not create a <code>data</code> folder as a part of its template. This is to encourage useful strategies for data inclusion that automate the creation of the data folder when it is required.</p>
<!--
`vertical` includes  [document_data()](https://crumplab.github.io/vertical/reference/document_data.html) quickly to add an existing dataframe to an R package. For example, if `mydf` was an existing dataframe, then the following:  


```r
document_data(mydf)
```

would accomplish:

1. create a `data` folder (if it didn't already exist)
2. save mydf as an .rda file to the `data` folder
3. create a mydf.R file for documentation, save it to the R file
4. add a roxygen skeleton for documentation to mydf.R
5. open mydf.R for editing
-->
<p>The next example shows individual steps for including data from the R environment. We then discuss strategies for including data as a part of a reproducible research project. Briefly the steps are:</p>
<ol style="list-style-type: decimal">
<li>create a dataframe</li>
<li>
<code><a href="https://usethis.r-lib.org/reference/use_data.html">usethis::use_data()</a></code> adds .rda to <code>data</code> folder</li>
<li>
<code><a href="https://usethis.r-lib.org/reference/use_r.html">usethis::use_r()</a></code> adds .R to <code>R/</code> for documentation</li>
<li>
<code>sinew::makeOxygen</code> generate roxygen documentation skeleton</li>
</ol>
<p>R objects in the environment can be included as data in an R package. For example, the following generates a simple data frame in the R environment:</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">mydf</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">a</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">5</span>,
                   <span class="kw">b</span> <span class="kw">=</span> <span class="fl">6</span>:<span class="fl">10</span>,
                   <span class="kw">c</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span>,<span class="st">"E"</span>))</pre></body></html></div>
<p>The <code>mydf</code> data frame can be exported to an .Rda file and written to the <code>data</code> folder through <code>usethis</code>:</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="kw pkg">usethis</span><span class="kw ns">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_data.html">use_data</a></span>(<span class="no">mydf</span>)</pre></body></html></div>
<p>The above also creates the <code>data</code> folder if it does not already exist.</p>
<p>Next, documentation for the data is added by including a <code>data.R</code> file in the <code>R</code> folder.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="kw pkg">usethis</span><span class="kw ns">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span>(<span class="st">'data'</span>)</pre></body></html></div>
<p>Finally, <code>roxygen2</code> comments are added to <code>data.R</code> to describe the data file. We recommend installing the <code>sinew</code> package which can generate a useful template for documenting R data objects.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">sinew</span>)
<span class="fu">makeOxygen</span>(<span class="no">mydf</span>)</pre></body></html></div>
<p>For example, the above generates the following template that can be copied copied to <code>data.R</code>.</p>
<pre><code>#' @title DATASET_TITLE
#' @description DATASET_DESCRIPTION
#' @format A data frame with 5 rows and 3 variables:
#' \describe{
#'   \item{\code{a}}{integer COLUMN_DESCRIPTION}
#'   \item{\code{b}}{integer COLUMN_DESCRIPTION}
#'   \item{\code{c}}{integer COLUMN_DESCRIPTION} 
#'}
#' @details DETAILS
"mydf"</code></pre>
<p>The template is then edited to describe the data object, such as:</p>
<pre><code>#' @title mydf
#' @description example data frame
#' @format A data frame with 5 rows and 3 variables:
#' \describe{
#'   \item{\code{a}}{integer some numbers}
#'   \item{\code{b}}{integer some more numbers}
#'   \item{\code{c}}{character some letters} 
#'}
#' @details This dataset is an example.
"mydf"</code></pre>
<p>Finally, the .Rd file is generated by <code><a href="https://devtools.r-lib.org//reference/document.html">devtools::document()</a></code>, or by the RStudio macro <code>Ctrl/Cmd + Shift + D</code>. When the package is built it will now contain the included data and documentation for the data. The documentation will be added to the website when the site is rebuilt.</p>
<p>Importantly, whenever the package is loaded (e.g., <code><a href="https://rdrr.io/pkg/verticaltemplate/man">library(verticaltemplate)</a></code>), the included data becomes available just like the included functions. For example, the following would load the package, then load the included dataset to the environment.</p>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">verticaltemplate</span>)
<span class="no">mydf</span> <span class="co">#loaded into environment from package</span></pre></body></html></div>
<p>Finally, documentation for multiple data objects can be added to a <code>data.R</code> file. Insert a new line after the documentation for the first data object, then insert the roxygen comments for the next one. Or, individual data sets could be documented with individually named <code>.R</code> files. We suggest readers familiarize themselves with <a href="https://yonicd.github.io/sinew/">sinew</a>, which provides very convenient functions for automating roxygen templates for documenting functions and data sets.</p>
<div id="considerations-for-sharing-data" class="section level3">
<h3 class="hasAnchor">
<a href="#considerations-for-sharing-data" class="anchor"></a>Considerations for sharing data</h3>
<p>We have discussed the operations for adding data to an R package. In the context of including data from a research project we have a few additional considerations and suggestions. The overarching issue is how to share your data so that others can easily use it, and understand how you used it.</p>
<p>First, there is a often a difference between raw data and analysis ready data. For example, pre-processing steps may be necessary when loading raw data into a software environment, and may also involve excluding aspects of or imputing new structure to the data. In the spirit of sharing reproducible research <em>it is important to record and make transparent all pre-processing steps</em>.</p>
<p>In principle, the transformations of data along an analysis path can be preserved in a variety of locations, such as in R Markdown documents that contain the scripts for the transformation. <code>vertical</code> suggests that the <code>data-raw</code> folder is used as a location to, 1) store the raw data, 2) declare and conduct pre-processing steps, and 3) save the transformed raw data to the <code>data</code> folder if the intention is to include it in the R package.</p>
<p>To elaborate, <code>vertical</code> creates a <code>data-raw</code> folder as part of the template. This is a location to place raw data in any given format that can be imported to R, such as a .csv file, excel file, JSON file, SPSS file, or other file type. Ideally, the raw data placed here should be machine readable and non-proprietary so that it is shareable. Additionally, the <code>data-raw</code> folder contains <code>DATASET.R</code>, a mostly blank .R script. This script can be populated with the code necessary to import the raw data and transform it as needed to a desired form for further analysis. In other words, <code>DATASET.R</code> is a script that declares pre-processing steps. The script can also include usethis commands and sinew commands to output desired R objects to the data folder, and to write documentation for these objects. One benefit to this strategy is that transformed data (ready-for-analysis), can later be accessed by loading the package as a library. For example, R Markdown assets for writing a manuscript, poster, or slide deck that include data-analysis, can quickly load the data by calling the library.</p>
<p>A second consideration is end-user convenience, or making it easy for people to use the data you are sharing. For example, although the above strategy will make it easy for researchers using R to obtain and use data shared in an R package, this could also make it more difficult for other researchers using different software environments to use the data. Rather than attempting to share multiple formats of your data, another solution is to make a plain text (.txt or .csv) version of the data available, which should be widely readable by most computing environments. For example, a plain text version of the raw data would ideally be stored in the <code>data-raw</code> folder, as this is a non-proprietary format. Similarly, users could also store analysis ready data as plain text (.txt, csv, see <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Data-in-packages" class="uri">https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Data-in-packages</a>) in the <code>data</code> folder. An advantage here is that R users can easily access the data from the command line after the package is loaded, and other users can access the same data in plain text format. Finally, plain text data can be saved to the data folder in a compressed format to save space.</p>
<p>Our primary example of used an R format to save data to the data folder. When using a plain text file type, there are a couple caveats. First, the data must be tabular, and readable in R by the <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> function. Second, the syntax is slightly different for the resulting R package to pass checks without error. For example, if there was a text file <code>testme.txt</code> containing tabular data in the <code>/data</code> folder, then the following example <code>testme.R</code> file would be placed in the <code>/R</code> folder:</p>
<pre><code><a href="https://rdrr.io/r/utils/data.html">#' @title testme
#' @name testme
#' @description example data frame
#' @format A data frame with 5 rows and 3 variables:
#' \describe{
#'   \item{\code{dist}}{integer some numbers}
#'   \item{\code{speed}}{integer some more numbers}
#'}
#' @details This dataset is an example.
data(testme, envir=environment())</a></code></pre>
<p>Notice the last line is not simply “testme”, but instead calls the <code><a href="https://rdrr.io/r/utils/data.html">data()</a></code> function (which uses <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> to load <code>testme.txt</code>).</p>
</div>
</div>
<div id="apa-papers-with-papaja" class="section level2">
<h2 class="hasAnchor">
<a href="#apa-papers-with-papaja" class="anchor"></a>APA papers with papaja</h2>
<p>The <code>manuscript</code> folder is for writing manuscripts. APA-style manuscripts can be written in R Markdown using the fantastic <a href="https://crsh.github.io/papaja_man/">papaja</a> package <span class="citation">(Aust and Barth 2018)</span>. The linked to documentation explains how to use <code>papaja</code>, and rather than repeat that information here, we briefly extol some virtues of <code>papaja</code>.</p>
<p><code>vertical</code> includes a <code>papaja</code> template in the <code>manuscript</code> folder. Knitting <code>manuscript.Rmd</code> in RStudio produces an APA-style manuscript as a .pdf. NOTE, a latex installation is required in order to knit to pdf, and see the <code>papaja</code> documentation for suggestions on installing latex (see also the <code>tinytex</code> R package which may be of some use for navigating latex installation issues). <code>vertical</code> also includes the resulting .pdf in its website as a downloadable file.</p>
<p>There are several benefits to using <code>papaja</code>. First, it is possible to create an entirely reproducible research manuscript. For example, all of the text and R code for data-analysis, modeling, and figure generation, can be included in the .Rmd file. Second, <code>papaja</code> includes many helpful functions (such as <code>apa_print()</code>) for automating the writing of results from an R object (e.g., the results of an ANOVA, t-test, or regression) to the manuscript. Third, <code>papaja</code> uses latex style citations which automatically create bibliographies. Finally, it is possible to export to latex and word documents (which may need some formatting by hand at the end). Finally, papaja also has convenient templates for responding to action letters during the review process.</p>
</div>
<div id="posterdown-and-slidy" class="section level2">
<h2 class="hasAnchor">
<a href="#posterdown-and-slidy" class="anchor"></a>posterdown and slidy</h2>
<p>The <code>posters</code> folder and <code>slides</code> folder are for writing posters and slide decks in R Markdown, which can be included as part of the <code>vertical</code> project website. Furthermore, <code>vertical</code> suggests templates for creating these assets in R Markdown. For example, the <code>posters</code> folder includes a <a href="https://github.com/brentthorne/posterdown">posterdown</a> template <span class="citation">(Thorne 2019)</span>, and the <code>slides</code> folder includes a <a href="https://bookdown.org/yihui/rmarkdown/slidy-presentation.html">slidy</a> template. Both produce browser-displayable content that can be included in the <code>vertical</code> website. The respective links point to documentation for making posters with posterdown and making slide decks with slidy. Additionally, the posters and slides folders can be populated with other templates (by the user) if other packages are preferred for making posters and slides in R markdown.</p>
</div>
<div id="vignettes-supplementary-materials-model-code-and-arbitrary-r-markdown" class="section level2">
<h2 class="hasAnchor">
<a href="#vignettes-supplementary-materials-model-code-and-arbitrary-r-markdown" class="anchor"></a>vignettes: Supplementary materials, model code, and arbitrary R Markdown</h2>
<p>Research assets can take many forms beyond a manuscript, poster, or slide deck, and may include stimulus materials, supplementary data analyses, and model simulations. <code>vertical</code> does not suggest folders each of these additional assets, however it does such a strategy for organizing and creating these kinds of assets it the <code>vignettes</code> folder. The strategy is to add R Markdown documents to the <code>vignettes</code> folder and/or add sub-folders for different classes of documents to the <code>vignettes</code> folder, and populate those with R Markdown documents as needed.</p>
<p>The <code>vignettes</code> folder is part of the R package structure, and typically used to include tutorial documentation inside an R package. For example, clicking an R package in the RStudio packages tab will show a link to vignettes if they exist in the package, and they can be read directly in the help window from R studio.</p>
<p><img src="imgs/vignettes.png" width="100%"></p>
<p>Vignettes are written as R Markdown documents so they can include text and R code chunks and are suitable for communicating a wide variety of supplementary materials, such as additional analyses and model simulations, in a reproducible and transparent manner. By default, <code>pkgdown</code> also knits all of the .Rmd files in the <code>vignettes</code> folder and any sub-folders, and includes them in the <code>pkgdown</code> website under the default “articles” tab. <code>vertical</code> inherits this functionality, but renames the “articles” tab as a “Supplementary” tab. As a result, any .Rmd files in the <code>vignettes</code> folder of a <code>vertical</code> project will be compiled (on <code><a href="../reference/build_vertical.html">vertical::build_vertical()</a></code>), and added to the <code>vertical</code> website. This is a convenient method for automating the addition of content to the website.</p>
<p>One caveat to using vignettes through pkgdown is that they are all compiled with a consistent look-and-feel imposed by pkgdown, which sets an aim to standardize documentation for R packages (the primary use case for pkgdown). Standard vignette style should be suitable for most users, and we note that it is certainly possible to use custom styles; however, a tutorial on full customization is beyond our scope (but see, further options for customization in the <a href="#website-customization">Website customization</a> section.)</p>
</div>
<div id="experiments-jspsych-and-jspsychr" class="section level2">
<h2 class="hasAnchor">
<a href="#experiments-jspsych-and-jspsychr" class="anchor"></a>experiments: jspsych and jspsychr</h2>
<p>Depending on the needs of the research project, it is also possible to create browser-ready behavioral experiments in RStudio. For example, <code>vertical</code> creates an <code>experiments</code> folder that contains a template for building experiments using the <a href="https://www.jspsych.org">jspsych</a> JavaScript library <span class="citation">(De Leeuw 2015)</span>. Currently, <code>vertical</code> makes two suggestions. First, when a <code>vertical</code> project is created, it downloads the newest version of the jspsych library to the experiments folder. <code>vertical</code> also suggests a <a href="https://crumplab.github.io/jspsychr/">jspsychr</a> template. <code>jspsychr</code> is an R package that provides templates and examples for writing <code>jspsych</code> experiments in RStudio, using a combination of R Markdown and JavaScript. The <code>vertical</code> template example includes a basic Stroop task. For example, knitting the <code>index.Rmd</code> file produces the <code>index.html</code> file which can be run in a browser. In this case, because the experiment file is also an HTML file, it is possible to include a demonstration of running the experiment in the <code>vertical</code> website.</p>
</div>
<div id="website-customization-overview" class="section level2">
<h2 class="hasAnchor">
<a href="#website-customization-overview" class="anchor"></a>Website customization overview</h2>
<p><code>vertical</code> is a minor extension to the <code>pkgdown</code> approach for rendering R package websites from an R package file structure. <code>pkgdown</code> places constraints on the websites it generates (around the style of content presentation), and these constraints are inherited in <code>vertical</code> websites. Some examples of current constraints are:</p>
<ol style="list-style-type: decimal">
<li><p>R Markdown documents placed in the vignettes folder are rendered in a style dictated by <code>pkgdown</code>. This allows consistent style across R package vignettes, and vertical inherits this style for any .Rmds in the vignettes folder.</p></li>
<li><p>The website contains a sidebar with information about “developers”, as developers is a good name for authors of R packages. Unfortunately, this descriptor is hard-coded by pkgdown, so the html file would need to be edited by hand to include a different descriptor.</p></li>
</ol>
<p>The benefits of adopting the <code>pkgdown</code> framework are that websites can be compiled in one command and are produced with consistent structure. In our view, the additions that vertical makes are reasonable add-ons to that structure. It is worth pointing out that all of the constraints imposed by pkgdown can be escaped by building a custom R markdown website, however <code>vertical</code> does not provide direction for that option.</p>
<p>Although <code>pkgdown</code> has constraints it is also fairly flexible. By default, <code>pkgdown</code> creates a simple website with a landing page (to describe the package), an articles tab to display vignettes, and a reference tab to display function documentation. For an in-depth guide to customizing pkgdown websites, see the <a href="https://pkgdown.r-lib.org">pkgdown documentation</a>. <code>vertical</code> extends the basic website by modifying the tabs in the navigation bar, and pointing them to assets in vertical, such as those contained in manuscript, slides, posters, etc.</p>
<p>Before describing some examples of customizing a <code>vertical</code> website, it may be helpful to provide an overview of the website building process. An advantage of the <code>pkgdown</code>/<code>vertical</code> approach is that users can produce a website for their project without expertise in coding for the web. The disadvantage is that general knowledge about web coding is useful for customizing the website directly, and customizing through pkgdown options.</p>
<p>Under the hood, <code>pkgdown</code> renders R Package assets in the form of HTML documents and exports them to the <code>docs</code> folder. The <code>docs</code> folder is included both as a location to store the web files, and with Github pages integration in mind. As we describe in the next section, Github repositories containing a <code>docs</code> folder can serve any content in <code>docs</code> folder to the web at large. We note here that the website files in the <code>docs</code> could be copied to any web server for hosting the website.</p>
<p>A <code>pkgdown</code> website is simply the collection of files in the <code>docs</code> folder. For example, <code>pkgdown</code> creates an <code>index.html</code> file containing the HTML necessary to show the landing page on the website. When a browser arrives at a URL location on the web (e.g., such as <a href="https://crumplab.github.io/vertical" class="uri">https://crumplab.github.io/vertical</a>) it automatically attempts to load the ‘index.html’ file (e.g., the browser interprets <a href="https://crumplab.github.io/vertical" class="uri">https://crumplab.github.io/vertical</a> as <a href="https://crumplab.github.io/vertical/index.html" class="uri">https://crumplab.github.io/vertical/index.html</a>). An inspection of the <code>docs</code> folder will show several other files and folders, typically these are .html files for individual pages on the website. However, even files that are not .html files can be included for download from the website. For example, <code>manuscript/manuscript.pdf</code> is a pdf in the manuscript folder that can be downloaded from the website.</p>
<p>It is worth realizing that any file in <code>docs</code> could be accessed and downloaded by a browser, even if the website does not provide a link to it. In the template, <code>vertical</code> assumes that users would want to share <code>manuscript.pdf</code>, so a tab in the website navigation bar is created such that clicking the tab initiates a download of the file. The <code>manuscript</code> folder also contains <code>manuscript.tex</code>, which is a latex version of the manuscript; however, <code>vertical</code> does not by default create a link on the website to this file. Nevertheless, if someone accessed the appropriate URL specifying the path to the file on the server (e.g., <code>https://site.com/projectname/manuscript/manuscript.tex</code>), then file would be downloaded. We mention these features of the <code>docs</code> folder to foster general intuitions about customizing the website, these are:</p>
<ol style="list-style-type: decimal">
<li>Anything in the <code>docs</code> folder can be served to the web</li>
<li>Some link should be added somewhere to a <code>vertical</code> website to connect to the content.</li>
<li>Any manual edits to the .html files in a <code>docs</code> folder will change the resulting website. Manual edits may need to be redone if the site rebuilt (resulting in overwriting the previous HTML) at a future point in time.</li>
</ol>
<p>One final point about <code>pkgdown</code> is how it handles <code>vignettes</code>. Vignettes are simple R Markdown documents in the <code>vignettes</code> folder. A vignette can be knitted in R Studio, and the result is an .html file rendered to the <code>vignettes</code> folder. This .html file is not served to the web because it is not in the <code>docs</code> folder. Moreover, this .html file displays the vignette as a basic, standalone webpage, that is not embedded into the pkgdown website. For example, the navigation bar for the website is not included. This process is different from using <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code>, which renders the .Rmd files in <code>vignettes</code> to the <code>docs</code> folder, and in the process adds the overarching website html to each vignette so that they include website features such as the navigation bar.</p>
<p>We mention the above issues to expose the process of including additional content to the website. <code>vertical</code> takes care of some of the additions automatically through <code><a href="../reference/build_vertical.html">vertical::build_vertical()</a></code>. For example, <code><a href="../reference/build_vertical.html">vertical::build_vertical()</a></code> compiles .Rmd files in the manuscript, posters, and slides folders, exports the assets to the <code>docs</code> folder, and adds links to the content in the navbar. Presently, there is limited functionality in <code>vertical</code> for automating the inclusion of arbitrary content in arbitrary folders. For example, if a user created a <code>blog</code> folder containing an R markdown that rendered to HTML in a particular style, it would not be included by default. Importantly, such arbitrary content can be included manually, with the caveat that aspects of the vertical website may not be included. For example, the blog page could be linked to from the navigation bar, but clicking the link would display the single page as is, and without the vertical website structure (e.g., the navigation bar would be missing).</p>
<div id="website-customization" class="section level3">
<h3 class="hasAnchor">
<a href="#website-customization" class="anchor"></a>Website customization</h3>
<p>The <code>_pkgdown.yml</code> file is used to customize many aspects of the website. The <code>vertical</code> template creates <code>_pkgdown.yml</code> which defines the appearance and order of navigation tabs and how they link to vertical assets. By default, <code><a href="../reference/build_vertical.html">vertical::build_vertical()</a></code> automatically updates <code>_pkgdown.yml</code> to include tabs and menu items in each tab for the following vertical assets: manuscript, posters, slides, and vignettes. Specifically, the titles of .Rmd documents in those folders are added as menu items to their respective tabs. If the <code>vignettes</code> folder contains sub folders, then the name of the sub-folder is used as section header in the “Supplementary” tab, and the title of .Rmds in each sub-folder are listed as menu items under their respective sections.</p>
<p>Below is example yml for controlling the navigation tabs. The <code>structure</code> section defines the ordering and placement of tabs in the navbar. For example, home, manuscript, articles, slides, posters, experiments, and reference tabs are all left-aligned, and the source code link to Github is right aligned. Switching the order of the component listed under structure will change the order of the tab in the navbar.</p>
<p>Next is the list of components, which form individual tabs. The name of the component does not need to be the same as the text displayed in the tab. For example the manuscript component specifies its text attribute as “APA6 PDF”, which is the text shown in the manuscript tab.</p>
<pre><code>navbar:
  structure:
    left:
    - home
    - manuscript
    - articles
    - slides
    - posters
    - experiments
    - reference
    right: github
  components:
    home:
      icon: fa-home fa-lg
      href: index.html
    manuscript:
      text: Manuscript
      menu:
      - text: APA6 PDF
        href: manuscript/manuscript.pdf
    articles:
      text: Supplementary
      menu:
      - text: Getting Started
        href: articles/Supplemental_1.html
    slides:
      text: Slides
      menu:
      - text: R Markdown slides
        href: slides/slides.html
    posters:
      text: Posters
      menu:
      - text: Conference 2019
        href: posters/poster.html
    experiments:
      text: Experiments
      menu:
      - text: Experiment 1
        href: experiments/experiment-1/index.html
    reference:
      text: Functions
      href: reference/index.html
    github:
      text: source code
      icon: fa-lg fa-github
      href: https://github.com/CrumpLab/vertical_template</code></pre>
<p>Of special note is the articles component, which appears as a tab named “Supplementary”. Any .Rmds in the <code>vignettes</code> folder are linked under this tab. The order and appearance of the links in the tab can be edited for clarity. For example, imagine <code>vignettes</code> folder had two sub-folders, <code>analyses</code>, and <code>model</code>, that included .Rmds for different analyses and model simulations. The above yml could be modified to structure the ordering and sectioning of items in the tab like so:</p>
<pre><code>    articles:
      text: Supplementary
      menu:
      - text: Additional Analyses
      - text: Experiment 1
        href: articles/analyses/data_1.html
      - text: Experiment 2
        href: articles/analyses/data_2.html
      - text: Model simulations
      - text: Simulation 1
        href: articles/model/sim_1.html
      - text: Simulation 2
        href: articles/model/sim_2.html</code></pre>
<p>A new tab with any name can be added to the website by adding a new component to the yml file. At a minimum, the new component should specify a text attribute, which will be the name of the tab, and an href attribute, which refers to the location of the linked asset.</p>
<p>Last, the home portion of the yml controls information displayed on the right side bar of the landing page. For example, links could be replaced with links to an OSF repository, or a journal website with a published version of a paper.</p>
<pre><code>home:
  strip_header: true
  links:
    - text: A link to X
      href: some link
    - text: A link to Y
      href: another link
  Authors:
    - text: Author 1
    - text: Author 2</code></pre>
</div>
</div>
<div id="sharing-a-vertical-project" class="section level2">
<h2 class="hasAnchor">
<a href="#sharing-a-vertical-project" class="anchor"></a>Sharing a vertical project</h2>
<p><code>vertical</code> was created assuming <a href="https://github.com">Github</a> and <a href="https://osf.io">open science framework</a> (OSF) integration, which are both free ways to share a repository online. The open science framework is commonly used in psychological science to research assets, and it allows Github integration. For example, rather than uploading files to OSF manually, an OSF project can be pointed at a Github repository, which then populates the OSF project. OSF projects also provide digital object identifiers (DOI). So, to share a <code>vertical</code> project the major step is to copy a local <code>vertical</code> project to a repository on Github.com.</p>
<p>Github is a website for sharing repositories of code in a git format. Git is version control software that has many capabilities beyond the scope of this tutorial. By default, <code>vertical</code> creates a new project as a git repository, which makes it easy to upload (push) to Github. The following steps should be sufficient to share a vertical project on Github.</p>
<ol style="list-style-type: decimal">
<li>Sign up for a free account on Github.</li>
<li>There are lots of tools for using git and Github. For example, you could use RStudio for many of your needs. We suggest <a href="https://desktop.github.com">downloading the Github Desktop application</a> (also free), which provides a simple point-and-click interface.</li>
<li>When your vertical project is ready for Github (e.g., it has been compiled, and the website loads as you would like it on your local computer), the remaining step is to push your local project to Github. You can do this easily with Github Desktop.</li>
</ol>
<ul>
<li>Open Github Desktop</li>
<li>Associate Github Desktop with your Github account in preferences</li>
<li>Choose the option to add a new repository</li>
<li>Navigate to the folder containing your vertical project, and add it</li>
<li>Choose the option to publish the repository on Github</li>
<li>Make sure the repository is not set to Private, otherwise you won’t be able to share it (alternatively, you private repositories are also possible)</li>
<li>Publish the repository</li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>To view the repository on Github, you can press the view on Github button from Github Desktop.</li>
<li>You should now see your new repository on Github.</li>
<li>To enable the website, go to the settings for the repository. Scroll down and activate the Github Pages option, choosing the “docs” option. Wait a few seconds, and navigate to the URL which should be displayed above the Github Pages section.</li>
<li>If everything worked properly, you should be viewing your vertical project website live on the web.</li>
</ol>
<p>Once your Github repository is uploaded, you can head over to OSF to associate your repository with an OSF project.</p>
<p>If your vertical project contains an R package, then it can now be installed from Github. You might suggest the following on the landing page or readme file to give instruction on installing the package:</p>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html"># Install the package by
install.packages("devtools")
devtools::install_github("githubuser/reponame")</a></code></pre>
<p>In the above, your would replace “githubuser” with your Github username, and “reponame” with the name of your Github repository containing the R package.</p>
</div>
<div id="licenses-and-citations" class="section level2">
<h2 class="hasAnchor">
<a href="#licenses-and-citations" class="anchor"></a>Licenses and Citations</h2>
<p>Part of sharing your work can involve deciding how you want to license use of your work, as well aiding others ability to credit your own through citations. Because <code>vertical</code> projects are extended R packages, it is possible to use licensing and citation tools built for R packages.</p>
<p>A full discussion of licensing issues, and how to choose which license is best for you is beyond the scope of this tutorial. Suffice it to say there are at least two ways to invoke licenses for your vertical project. The first way is to define include a license file in the pacakge, and define the license in the DESCRIPTION file. The <code>usethis</code> package provides some convenient functions for adding common licenses to an R package or a <code>vertical</code> project. For example, <code><a href="https://usethis.r-lib.org/reference/licenses.html">usethis::use_mit_license()</a></code> adds the mit license file to your project, and identifies that license correctly in the DESCRIPTION file. <code>usethis</code> has similar helper functions for several other licenses. A second way is to choose a license with github. If your <code>vertical</code> project is on github, then on github choose create new file and begin typing “license” into the name for the file. You should see a pop-up button that allows you to choose from different license options. Note, if you do not declare the license in the DESCRIPTION file, then it won’t be reflected on the <code>vertical</code> website compiled by <code>pkgdown</code>.</p>
<p>R packages also have a convenient <code><a href="https://rdrr.io/r/utils/citation.html">citation()</a></code> function. Calling this function and including the name of an R package will print citation information to the console. By default, a <code>vertical</code> project containing an R package with a correctly specified DESCRIPTION file will be compatible with the <code>citation</code> function. Specifically, running <code><a href="https://rdrr.io/r/utils/citation.html">citation('yourpackagename')</a></code> should generate a reference and bibtex entry from the information in the DESCRIPTION file. It is also possible to include a custom CITATION file in the <code>/inst</code> folder. Here additional customization can be included, and any citation information in this file will take precedence. Guidelines for creating and using the CITATION file are available here <a href="http://r-pkgs.had.co.nz/inst.html" class="uri">http://r-pkgs.had.co.nz/inst.html</a>.</p>
</div>
<div id="deciding-what-to-share" class="section level2">
<h2 class="hasAnchor">
<a href="#deciding-what-to-share" class="anchor"></a>Deciding what to share</h2>
<p>We hope <code>vertical</code> will be useful for helping you share your work. A final point to consider in a <code>vertical</code> project is the scope of what you want to share. In our view, extending the R package standard, as we do with <code>vertical</code>, provides a flexible way to include or exclude any content of your choice. For example, any file in the root directory of the project that is stored on github can be shared. Any file in the docs folder can be shared through the project website. As a result, any file can be included or deleted by hand at the final stages of sharing your work. Additionally, new folders for content not suggested by vertical can be created in the project directory, and additional website tabs can be created on a custom basis if desired.</p>
<p>To consider a more specific example, the lifetime of a research project ending with publication often involves multiple iterations of a manuscript. We begin with a draft, revisions of the draft, an initial submission, potentially a few revised versions that respond to reviewer concerns, and then a final version. That is potentially a large volume of work that could be shared. For example, if each version of the manuscript was written in <code>papaja</code>, and placed in subfolders inside the <code>manuscript</code> folder, then <code>vertical</code> would compile all of the versions, and it would be straightforward to shared all of the versions on the website. Although we haven’t provided an example, it would also be easy to share responses to reviewers if desired. However, our default assumption is that the website shows the manuscript in its final form. Even here, if the authors initiated their project as a git repository, and versioned their changes to a single manuscript file as they revised it, then the revision history would be included in the github repository for posterity. Or, that revision history could be deleted and not shared if desired.</p>
<p>The main point is that a research project maintained through the <code>vertical</code> workflow is capable of preserving large portions of the work that was done, and it allows you to choose which aspects of that work you want to share. We hope <code>vertical</code> makes the process of doing and sharing science easier. If you have suggestions for us, please let us know using Github issues for the vertical repo.</p>
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references hanging-indent">
<div id="ref-papaja">
<p>Aust, Frederik, and Marius Barth. 2018. <em>papaja: Create APA Manuscripts with R Markdown</em>. <a href="https://github.com/crsh/papaja">https://github.com/crsh/papaja</a>.</p>
</div>
<div id="ref-de2015jspsych">
<p>De Leeuw, Joshua R. 2015. “JsPsych: A Javascript Library for Creating Behavioral Experiments in a Web Browser.” <em>Behavior Research Methods</em> 47 (1): 1–12.</p>
</div>
<div id="ref-posterdown">
<p>Thorne, W. Brent. 2019. <em>Posterdown: An R Package Built to Generate Reproducible Conference Posters for the Academic and Professional World Where Powerpoint and Pages Just Won’t Cut It</em>. <a href="https://github.com/brentthorne/posterdown">https://github.com/brentthorne/posterdown</a>.</p>
</div>
<div id="ref-wickham_r_2015">
<p>Wickham, Hadley. 2015. <em>R Packages: Organize, Test, Document, and Share Your Code</em>. "O’Reilly Media, Inc.". <a href="http://r-pkgs.had.co.nz/">http://r-pkgs.had.co.nz/</a>.</p>
</div>
<div id="ref-usethis">
<p>Wickham, Hadley, and Jennifer Bryan. 2019. <em>Usethis: Automate Package and Project Setup</em>. <a href="https://CRAN.R-project.org/package=usethis">https://CRAN.R-project.org/package=usethis</a>.</p>
</div>
<div id="ref-pkgdown">
<p>Wickham, Hadley, and Jay Hesselberth. 2019. <em>Pkgdown: Make Static Html Documentation for a Package</em>. <a href="https://CRAN.R-project.org/package=pkgdown">https://CRAN.R-project.org/package=pkgdown</a>.</p>
</div>
<div id="ref-devtools">
<p>Wickham, Hadley, Jim Hester, and Winston Chang. 2019. <em>Devtools: Tools to Make Developing R Packages Easier</em>. <a href="https://CRAN.R-project.org/package=devtools">https://CRAN.R-project.org/package=devtools</a>.</p>
</div>
<div id="ref-xie2018">
<p>Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Matthew J. C. Crump, Matti Vuorre.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
