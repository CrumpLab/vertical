<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started using vertical • vertical</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get started using vertical">
<meta property="og:description" content="">
<meta property="og:image" content="https://crumplab.github.io/vertical/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-79429674-9"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-79429674-9');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vertical</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9100</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/get_started.html">Getting Started</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/CrumpLab/vertical">
    <span class="fa fa-lg fa-github"></span>
     
    source code
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Get started using vertical</h1>
            
      
      
      <div class="hidden name"><code>get_started.Rmd</code></div>

    </div>

    
    
<div id="motivation" class="section level2">
<h2 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h2>
<p><code>vertical</code> is an R-based structured workflow for creating and sharing resarch assets in the form of an extended R package. There are several reasons why the R package format is useful for sharing a variety of research assets (from experiment scripts, to papers, slides and posters).</p>
<ol style="list-style-type: decimal">
<li>R packages have a standardized and well-organized file-structure that is useful for organizational purposes.</li>
<li>Researchers often develop custom functions for analysis, and putting them in an R package makes sharing the functions easy.</li>
<li>R packages can include data from a research project, and a natural way to document the data using the same schemes for documenting R functions.</li>
<li>R packages include various documents through the vignettes folder, which in principle could include various formats for communicating research, such as a manuscript or slide deck written in RMarkdown.</li>
<li>R packages can be automatically rendered into websites through <code>pkgdown</code>, providing a compelling format for sharing research assets.</li>
</ol>
</div>
<div id="install-vertical" class="section level2">
<h2 class="hasAnchor">
<a href="#install-vertical" class="anchor"></a>Install vertical</h2>
<p><code>vertical</code> requires an installation of <code>devtools</code></p>
<pre><code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("devtools")</a></code></pre>
<p>Then, run the following to install <code>vertical</code>.</p>
<pre><code><a href="https://rdrr.io/pkg/devtools/man/reexports.html">devtools::install_github("CrumpLab/vertical")</a></code></pre>
</div>
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>Vertical is the benefit of combining two ecosystems for creating and sharing and sharing research project assets, these include the ecosystems of R Markdown and R packages. So vertical is:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>vertical &lt;-<span class="st"> </span>RMarkdown <span class="op">+</span><span class="st"> </span>RPackages</span></code></pre></div>
<p>R Markdown is a plain text document format that 1) allows regular text to be combined with chunks of code, and 2) can be compiled to numerous output formats, such as .pdf and webpages (HTML). R Markdown offers a strategy for transparent and reproducible research because analysis scripts, along with their output (e.g., results and figures), can be embedded directly in a document. R Markdown has become a large ecosystem and is capable of several forms of document creation, from journal articles, to posters and slide-decks, and much more. In general, if R Markdown is used to create a research asset, it can be included in a <code>vertical</code> project with ease. A comprehensive manual for all things R Markdown <span class="citation">(Xie, Allaire, and Grolemund 2018)</span> is available here <a href="https://bookdown.org/yihui/rmarkdown/" class="uri">https://bookdown.org/yihui/rmarkdown/</a>.</p>
<p>R Packages are a standard for creating and sharing libraries of R functions. By default, R packages can also include data and R Markdown documents, so the format is already suitable for packaging common research assets such as custom functions, data, and manuscripts. R Packages are an ecosystem in that several R Packages exist to facilitate the process of creating and sharing R packages, such as <a href="https://usethis.r-lib.org">usethis</a> <span class="citation">(Wickham and Bryan 2019)</span>, <a href="https://pkgdown.r-lib.org">pkgdown</a> <span class="citation">(Wickham and Hesselberth 2019)</span>, and <a href="https://devtools.r-lib.org">devtools</a> <span class="citation">(Wickham, Hester, and Chang 2019)</span>. Furthermore, <code>pkgdown</code> provides a method to automatically render an R package into a website that displays function documentation as well as R Markdown documents (typically tutorials for using the package). We refer readers to Wickham <span class="citation">(2015)</span> for an authoritative and in-depth guide on creating R packages <a href="http://r-pkgs.had.co.nz">http://r-pkgs.had.co.nz</a>.</p>
<p><code>vertical</code> is a template for extending R Packages and pkgdown websites to include room for additional assets common to psychological research projects. To appreciate the extension consider the basic skeleton for building an R package that is generated by RStudio.</p>
<p><img src="imgs/r-package-skeleton.png" width="100%"></p>
<p>In the minimal example, RStudio is used to create a new project by choosing the R package template. The new project is populated with DESCRIPTION and NAMESPACE files, an R folder to write .R functions, and a man folder to write .Rd files for function documentation. RStudio automatically recognizes the project as an R package, and provides a build tab in the IDE to install the package. A pkgdown website can be built by one command <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code>.</p>
<div id="vertical-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#vertical-workflow" class="anchor"></a>vertical workflow</h2>
<p>Installing the <code>vertical</code> package adds a new project template to RStudio (note RStudio should be restarted after <code>vertical</code> is installed so that it recognizes the template). Users can initiate a new vertical project from RStudio by choosing the vertical project option when creating a new project. By default a vertical project is structured in the following manner:</p>
<p><img src="imgs/vertical-project.png" width="100%"></p>
<p>The new project contains a more complete skeleton of an R package (e.g., folders for data-raw, data, and vignettes), <code>_pkgdown.yml</code> for controlling website parameters when rendered with <code>pkgdown</code>, and additional folders for research project assets such as <code>experiments</code>, <code>manuscript</code>, <code>model</code>, <code>posters</code>, and <code>slides</code>. These additional folder can simply be locations to store final products (e.g., a .zip file for experiment scripts, a .pdf for the manuscript, powerpoint for the slides,e tc.); however, each of these assets can also be created as R Markdown documents. So, by default <code>vertical</code> includes R Markdown templates from other packages within each folder for building each type of content. As a result, <code>vertical</code> suggests using R as a single-platform solution stack for research asset creation.</p>
</div>
<div id="vertical-website" class="section level2">
<h2 class="hasAnchor">
<a href="#vertical-website" class="anchor"></a>vertical website</h2>
<p>A major impetus behind <code>vertical</code> is to facilitate sharing of research assets. For example, the benefit of using a <code>vertical</code> workflow is that a website presenting all of the research assets can be automatically rendered through <code>pkgdown</code>. For example, the figure below shows a <code>vertical</code> project website, with example page content shown in the boxes.</p>
<p><img src="imgs/vertical-website.png" width="100%"></p>
<p>Once content has been created in each of the folders, or a subset of them, the website can be rendered in one call using <code><a href="../reference/build_vertical.html">vertical::build_vertical()</a></code>.</p>
<p>Depending on the nature of the research project, a vertical website is capable of sharing several assets. At a minimum, the landing page can be used to overview the research project. The navigiation bar can be used to download a .pdf of the manuscript, as well as posters and slides. Supplementary materials can be written in R markdown and displayed directly on the website. Similarly, model code and supplementary data analyses can be included directly on the website. If the project includes as a browser-based behavioral experiment, in addition to sharing the source code for the experiment, a demonstration of the experiment can be run directly from the website. Finally, because a vertical website is powered by pkgdown, the website provides pages for R functions and data documentation.</p>
</div>
<div id="sharing-vertical-on-github-and-osf" class="section level2">
<h2 class="hasAnchor">
<a href="#sharing-vertical-on-github-and-osf" class="anchor"></a>Sharing vertical on Github and OSF</h2>
<p>There are several methods for sharing research assets as online repositories, for example using Github or a project on the <a href="https://osf.io">open science framework</a> (OSF). <code>vertical</code> is built with Github and OSF integration in mind, however a <code>vertical</code> project could in principle be shared in any repository.</p>
<p>Github is very convenient for sharing <code>vertical</code> projects for several reasons:</p>
<ol style="list-style-type: decimal">
<li>R packages stored on Github repositories can be installed using <code>devtools</code>. <code>vertical</code> projects may contain R packages, so Github is useful for allowing others to install the package from their R console.</li>
<li>
<code>pkgdown</code> websites assume Github integration, and compiles the website source code into the <code>docs</code> folder. The same occurs in a vertical project. Github repositories have the option to display a website through Github pages (activated through the repository settings), which serves the content in a repositories <code>docs</code> as a static website (the url for the website is shown in the settings page after github pages is activated). So, it Github provides a convenient and free method to share a <code>vertical</code> website.</li>
<li>RStudio supports git version control, so a <code>vertical</code> project can be created as a git repository. Users unfamiliar with the benefits of version control inherit those benefits (and/or may learn about them) by activating them in a <code>vertical</code> project.</li>
<li>Research assets in psychological science are commonly shared on OSF, which among other things provides a digital object identifier for a project, and a persistent means of storing the assets. OSF provides Github integration, allowing the content of an OSF project to be automatically populated by the content of a linked Github repository.</li>
</ol>
</div>
</div>
<div id="tutorial" class="section level1">
<h1 class="hasAnchor">
<a href="#tutorial" class="anchor"></a>Tutorial</h1>
<p>The following tutorial on <code>vertical</code> describes the creation of a vertical project, discussion of the vertical workflow for various types of content creations, rendering a vertical project website, and sharing vertical projects on Github and OSF. We attempt simple examples in each case, and refer readers to other guides for more in depth treatment when necessary.</p>
<div id="creating-a-vertical-project" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-vertical-project" class="anchor"></a>Creating a vertical project</h2>
<p><a href="#install-vertical">Install vertical</a>, restart RStudio, then follow these steps to initialize a new <code>vertical</code> project.</p>
<p><img src="imgs/vertical-new.png" width="50%"></p>
</div>
<div id="default-vertical-template" class="section level2">
<h2 class="hasAnchor">
<a href="#default-vertical-template" class="anchor"></a>Default vertical template</h2>
<p>By default, a fresh <code>vertical</code> project contains the following files and folder structure:</p>
<p><img src="imgs/vertical-structure.png" width="75%"></p>
</div>
<div id="building-the-vertical-website" class="section level2">
<h2 class="hasAnchor">
<a href="#building-the-vertical-website" class="anchor"></a>Building the vertical website</h2>
<p>A new <code>vertical</code> project is populated with template examples for every kind of content supported by vertical (e.g., R functions, manuscript, poster, slides, supplementary materials, and even writing a browser-based behavioral experiment with jspsych). As a result, an example vertical website (showing templated content) can be rendered immediately by running the following in the console:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>vertical<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/vertical/man/build_vertical.html">build_vertical</a></span>()</span></code></pre></div>
<p>The above line should save the HTML files for the website into the <code>docs</code> folder in the <code>vertical</code> template. Additionally, the resulting website should appear in a browser window for inspection. For expanded discussion on customizing the website see the <a href="#website-customization">Website customization</a> section.</p>
<p>One caveat is the rendering of APA manuscripts with the <code>papaja</code> package, which requires a latex installation. More generally, when <code>vertical</code> is installed, it installs dependencies such as <code>papaja</code> and other required packages, but does not install latex (see, <a href="#apa-papers-with-papaja">APA papers with papaja</a>).</p>
</div>
<div id="r-packages" class="section level2">
<h2 class="hasAnchor">
<a href="#r-packages" class="anchor"></a>R Packages</h2>
<p><code>vertical</code> projects can include an R package containing custom functions and data sets. This tutorial presents minimal examples for R package creation, and users interested in this functionality should consult Wickham’s guide for creating R packages <a href="http://r-pkgs.had.co.nz" class="uri">http://r-pkgs.had.co.nz</a>.</p>
<p>We suggest avoiding a manual style for R package creation, which involves creating and modifying critical R package files by hand. Specifically, manual creation of files requires intimate familiarity with R standards for package development, which new users may not posess. Instead, we suggest users avail themselves of helper packages such as <a href="https://usethis.r-lib.org">usethis</a>, <a href="https://pkgdown.r-lib.org">pkgdown</a>, <a href="https://devtools.r-lib.org">devtools</a>, and <a href="https://roxygen2.r-lib.org">roxygen2</a> for documenting functions and data. We note that Wickham’s guide provides in depth tutorials about R package creation using these tools.</p>
<p>To encourage the above method for R package creation, the vertical template also provides <code>Vertical Helper.R</code>, which contains example commands from the above packages for automating aspects of package creation.</p>
</div>
<div id="r-package-meta-data" class="section level2">
<h2 class="hasAnchor">
<a href="#r-package-meta-data" class="anchor"></a>R package meta data</h2>
<p><code>vertical</code> creates a template for R package creation, including a DESCRIPTION file that is used to provide metadata about the R package. The default DESCRIPTION file looks something like this, and should be modified by the user to change the name, title, description and so on.</p>
<pre><code>Package: verticaltemplate
Title: What the Package Does (One Line, Title Case)
Version: 0.0.0.9000
Authors@R: 
    person(given = "Matt",
           family = "Crump",
           role = c("aut", "cre"),
           email = "mcrump@brooklyn.cuny.edu",
           comment = c(ORCID = "0000-0002-5612-0090"))
Description: What the package does (one paragraph).
License: MIT + file LICENSE
Encoding: UTF-8
LazyData: true
Suggests: 
    rmarkdown</code></pre>
<p>The Wickham guide discusses the role of the DESCRIPTION file in depth here: <a href="http://r-pkgs.had.co.nz/description.html" class="uri">http://r-pkgs.had.co.nz/description.html</a>. It is possible, through <code>usethis</code>, to set up defaults that autopopulate the DESCRIPTION with user information (for example, see <a href="https://usethis.r-lib.org/articles/articles/usethis-setup.html">usethis setup</a>).</p>
</div>
<div id="adding-r-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-r-functions" class="anchor"></a>Adding R functions</h2>
<p>The following is an example of adding a new function to the R package in a vertical project. Some reminders of these steps are suggested in <code>Vertical Helper.R</code>.</p>
<p>New functions are added as .R files to the <code>R</code> folder. This can be automated by the following, which creates a new .R file inside the <code>R</code> folder, in this case with the name <code>myfunction.R</code>.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co"># replace myfunction with your function name</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span>(<span class="st">"myfunction"</span>)</span></code></pre></div>
<p>In this example, we will write a function that sums the integers between a first and second example. To begin, we decide to name the function <code>sum_range</code>, and create the .R file by running:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span>(<span class="st">"sum_range"</span>)</span></code></pre></div>
<p>Next, the function is written in the newly created file <code>sum_range.R</code>. For example, the following is added, starting on line 1:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>sum_range &lt;-<span class="st"> </span><span class="cf">function</span>(min,max){</span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(min<span class="op">:</span>max))</span>
<span id="cb8-3"><a href="#cb8-3"></a>}</span></code></pre></div>
<p>We will use <code>roxygen2</code> style commenting to provide documentation for the function. The documention will be shown in the help menu when the package is installed, allow help for the function to be accessed from the console by <code><a href="https://rdrr.io/pkg/verticaltemplate/man/sum_range.html">?sum_range</a></code>, and produce a webpage with the documentation when rendered by <code>pkgdown</code>. The alternative to <code>roxygen2</code> is to manually write an .Rd file in the <code>man</code> folder for the new function; <code>roxygen2</code> automates this process and allows the documentation to be added as comments in the .R file defining the function.</p>
<p>Make sure <code>roxygen2</code> is installed (using RStudio, or <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages('roxygen2')</a></code> from the console.). RStudio may need to restart to recognize <code>roxygen2</code>. Before proceeding activate <code>roxygen2</code> documentation in RStudio, under Tools &gt; Project options…, and select the checkbox for roxygen documentation:</p>
<p><img src="imgs/roxygen.png" width="50%"></p>
<p>Next, a template for <code>roxygen2</code> comments can be automatically generated from within the .R file using the following steps:</p>
<p><img src="imgs/roxygen-insert.png" width="100%"></p>
<p>A guide for documenting functions with <code>roxygen2</code> is available here <a href="http://r-pkgs.had.co.nz/man.html" class="uri">http://r-pkgs.had.co.nz/man.html</a>. In our example, we modify the <code>roxygen2</code> skeleton like so:</p>
<pre><code>#' Sum of an integer range
#'
#' @param min integer, a starting value
#' @param max integer, an ending value
#'
#' @return integer, the sum of the integers between min and max.
#' @export
#'
#' @examples
#' sum_range(min=1,max=10)

sum_range &lt;- function(min,max){
  return(sum(min:max))
}</code></pre>
<p>The last step is generate the .Rd file in the <code>man</code> folder, which is used to create the documentation. The .Rd file is generated automatically by <code><a href="https://rdrr.io/pkg/devtools/man/document.html">devtools::document()</a></code>, or by the RStudio macro <code>Ctrl/Cmd + Shift + D</code>. For example, a new <code>sum_range.Rd</code> file like the following is saved to the <code>man</code> folder. This should not be edited by hand.</p>
<p><img src="imgs/new-rd.png" width="50%"></p>
</div>
<div id="r-package-compilation" class="section level2">
<h2 class="hasAnchor">
<a href="#r-package-compilation" class="anchor"></a>R package compilation</h2>
<p>At this stage we have added a new R function to the R package skeleton, but have not yet compiled and installed the R package. The R package can be built and installed in one step by pressing “Install and Restart” from the Build tab in RStudio. After this step, the package is installed on the local system, it will be shown in the list of packages along with constituent function documentation. The functions in the package can be loaded using the <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> command.</p>
<p><img src="imgs/package-build.png" width="100%"></p>
<p>Relatedly, pkgdown can be used at this point to render the function documentation to the website by <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code>.</p>
<p><img src="imgs/pkgdown-build.png" width="75%"></p>
</div>
<div id="adding-data" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-data" class="anchor"></a>Adding Data</h2>
<p>Arbitary data can be included in an R Pacakge by placing R data files into a <code>data</code> folder. Importantly, data can be documented just like a function, which allows for clear and descriptive meta-data for the data object.</p>
<p><code>vertical</code> does not create a <code>data</code> folder as a part of its template. This is to encourage useful strategies for data inclusion, which also automate the creation of the data folder when it is required. We begin with an example of including data from the R environment, and then discuss strategies for including data as a part of a reproducible research project.</p>
<p>R objects in the environment can be included as data in an R package. For example, the following generates a simple data frame in the R environment:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>mydf &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,</span>
<span id="cb10-2"><a href="#cb10-2"></a>                   <span class="dt">b =</span> <span class="dv">6</span><span class="op">:</span><span class="dv">10</span>,</span>
<span id="cb10-3"><a href="#cb10-3"></a>                   <span class="dt">c =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"D"</span>,<span class="st">"E"</span>))</span></code></pre></div>
<p>The <code>mydf</code> data frame can be exported to an .Rda file and written to the <code>data</code> folder through <code>usethis</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/use_data.html">use_data</a></span>(mydf)</span></code></pre></div>
<p>The above also creates the <code>data</code> folder if it does not already exist.</p>
<p>Next, documentation for the data is added by inlcuding a <code>data.R</code> file in the <code>R</code> folder.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/use_r.html">use_r</a></span>(<span class="st">'data'</span>)</span></code></pre></div>
<p>Finally, <code>roxygen2</code> comments are added to <code>data.R</code> to describe the data file. We recommend installing the <code>sinew</code> package which can generate a useful template for documenting R data objects.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(sinew)</span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="kw"><a href="https://rdrr.io/pkg/sinew/man/makeOxygen.html">makeOxygen</a></span>(mydf)</span></code></pre></div>
<p>For example, the above generates the following template that can be copied copied to <code>data.R</code>.</p>
<pre><code>#' @title DATASET_TITLE
#' @description DATASET_DESCRIPTION
#' @format A data frame with 5 rows and 3 variables:
#' \describe{
#'   \item{\code{a}}{integer COLUMN_DESCRIPTION}
#'   \item{\code{b}}{integer COLUMN_DESCRIPTION}
#'   \item{\code{c}}{integer COLUMN_DESCRIPTION} 
#'}
#' @details DETAILS
"mydf"</code></pre>
<p>The template is then edited to describe the data object, such as:</p>
<pre><code>#' @title mydf
#' @description example data frame
#' @format A data frame with 5 rows and 3 variables:
#' \describe{
#'   \item{\code{a}}{integer some numbers}
#'   \item{\code{b}}{integer some more numbers}
#'   \item{\code{c}}{character some letters} 
#'}
#' @details This dataset is an example.
"mydf"</code></pre>
<p>Finally, the .Rd file is generated by <code><a href="https://rdrr.io/pkg/devtools/man/document.html">devtools::document()</a></code>, or by the RStudio macro <code>Ctrl/Cmd + Shift + D</code>. When the package is built it will now contain the included data and documentation for the data. The documentation will be added to the website when the site is rebuilt.</p>
<p>Importantly, whenever the package is loaded (e.g., <code><a href="https://rdrr.io/r/base/library.html">library(verticaltemplate)</a></code>), the included data becomes available just like the included functions. For example, the following would load the package, then load the included dataset to the environment.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(verticaltemplate)</span>
<span id="cb16-2"><a href="#cb16-2"></a>mydf <span class="co">#loaded into environment from package</span></span></code></pre></div>
<p>We have discussed the operations for adding data to an R package. In the context of including data from a research projec we have a few additional suggestions. <code>vertival</code> does create a <code>data-raw</code> folder as part of the template. This is a location to place raw data in any given format that can imported to R, such as a .csv file, excel file, JSON file, SPSS file, or other file type.</p>
<p>It is very often the case that raw data must be pre-processed or wrangled from its raw form to another form required by functions for data-analysis. Pre-processing steps may also involve excluding aspects of the raw dat, or imputing structure to the raw data. In the spirit of sharing reproducible research it is important to record and make transparent all pre-processing steps. In principle, the transformations of data along an analysis path can be preserved in a variety of locations, such as in R Markdown documents that contain the scripts for the transformation. <code>vertical</code> suggests that the <code>data-raw</code> is used a location to 1) declare and conduct pre-processing steps, and 2) save the transformed raw data to the <code>data</code> folder if the intention is to include it in the R package.</p>
<p>For example, the <code>data-raw</code> folder contains <code>DATASET.R</code>, a mostly blank .R script. This script can be populated the code necessary to import the raw data, and transform it as needed to a desired form for further analysis. In other words, <code>DATASET.R</code> a script that declares pre-processing steps. The script can also include usethis commands and sinew commands to output desired R objects to the data folder, and to write documentation for these objects. One benefit to this strategy is that transformed data (ready-for-analysis), can later be accessed by loading the package as a library. For example, R Markdown assets for writing a manuscript, poster, or slide deck that include data-analysis, can quickly load the data by calling the library.</p>
</div>
<div id="apa-papers-with-papaja" class="section level2">
<h2 class="hasAnchor">
<a href="#apa-papers-with-papaja" class="anchor"></a>APA papers with papaja</h2>
<p>APA-style manuscripts can be written in R Markdown using the fantastic <a href="https://crsh.github.io/papaja_man/">papaja</a> package <span class="citation">(Aust and Barth 2018)</span>. The linked to documentation explains how to use <code>papaja</code>, and rather than repeat that information here, we briefly extol some virtures of <code>papaja</code>.</p>
<p><code>vertical</code> includes a <code>papaja</code> template in the manuscript folder. Knitting the <code>manuscript.Rmd</code> in RStudio produces an APA-style manuscript as a .pdf. NOTE, a latex installation is required in order to knit to pdf, and see the <code>papaja</code> documentation for suggestions on installing latex (see also the <code>tinytex</code> R package which may be of some use for navigating latex installation issues. <code>vertical</code> also includes the resulting .pdf in its website as a downloadable file.</p>
<p>There are several benefits to using <code>papaja</code>. First, it is possible to create an entirely reproducible research manuscript. For example, all of the text, and R code for data-analysis, modeling, and figure generation, can be included in the .Rmd file. Second, <code>papapja</code> includes many helpful functions (such as <code>apa_print()</code>) for automating the writing of results from an R object (e.g., the results of an ANOVA, t-test, or regression) to the manuscript. Third, <code>papaja</code> uses latex style citations which automatically create bibliographies. Finally, it is possible to export to latex and word documents (which may need some formatting by hand at the end). Finally, papaja also has convenient templates for responding to action letters during the review process.</p>
</div>
<div id="posters-and-slide-decks" class="section level2">
<h2 class="hasAnchor">
<a href="#posters-and-slide-decks" class="anchor"></a>Posters and slide decks</h2>
<p>R Markdown is a powerful document creation platform and can also be used to produce posters and slide decks that are common formats for communicating findings at conferences or seminars. <code>vertical</code> allows posters and slides to be included as part of the vertical project website. Furthermore, if <code>vertical</code> suggests templates for creating these assets in R Markdown. For example, the posters folder includes a <a href="https://github.com/brentthorne/posterdown">posterdown</a> template <span class="citation">(Thorne 2019)</span>, and the slides folder includes a <a href="https://bookdown.org/yihui/rmarkdown/slidy-presentation.html">slidy</a> template. Both produce browser-displayable content that can be included in the vertical website. The respective links point to documentation for making posters with posterdown and making slide decks with slidy. Additionally, the posters and slides folders can be populated with other templates (by the user) if other packages are preferred for making posters and slides in R markdown.</p>
</div>
<div id="supplementary-materials-model-code-and-arbitary-r-markdown" class="section level2">
<h2 class="hasAnchor">
<a href="#supplementary-materials-model-code-and-arbitary-r-markdown" class="anchor"></a>Supplementary materials, model code, and arbitary R Markdown</h2>
<p>R Markdown documents of almost any sort can be included in a <code>vertical</code> project. For example, supplementary materials and model code can be additional assets from a research project that can be included and shared.</p>
<p><code>vertical</code> relies on pkgdown to generate its website, and pkgdown automatically knits .Rmd files located in the <code>vignettes</code> folder, and displays them under an articles tab. <code>vertical</code> renames the articles tab to “supplementary materials”, but the logic is the same. Arbitrary R Markdown documents for any purpose can be placed in the vignettes folder, and they will automatically be added to the supplementary materials tab on the <code>vertical</code> website.</p>
<p><code>vertical</code> also includes a <code>model</code> folder as a location to place code from a computational model. This folder is populated with a default R Markdown template. The content in that document should be edited and replaced the content necessary to describe the model, and perhaps conduct sample simulations. However, <code><a href="https://pkgdown.r-lib.org/reference/build_site.html">pkgdown::build_site()</a></code> does not scrape folders beyond vignettes when knitting R Markdown documents. Instead, <code><a href="../reference/build_vertical.html">vertical::build_vertical()</a></code> is used to as a wrapper to pkgdown, which also knits content in non-vignette folders, such as manuscript, slides, posters, and model. We discuss further options for customization in the <a href="#website-customization">Website customization</a> section.</p>
</div>
<div id="experiments-with-jspsych-and-jspsychr" class="section level2">
<h2 class="hasAnchor">
<a href="#experiments-with-jspsych-and-jspsychr" class="anchor"></a>Experiments with jspsych and jspsychr</h2>
<p>Depending on the needs of the research project, it is also possible to create browser-ready behavioral experiments in RStudio. For example, <code>vertical</code> creates an <code>experiments</code> folder that contains a template for building experiments using the <a href="https://www.jspsych.org">jspsych</a> javascript library <span class="citation">(De Leeuw 2015)</span>. Currently, <code>vertical</code> makes two suggestions. First, when a <code>vertical</code> project is created, it downloads the newest version of the jspsych library to the experiments folder. <code>vertical</code> also suggests a <a href="https://crumplab.github.io/jspsychr/">jspsychr</a> template. <code>jspsychr</code> is an R package that provides templates and examples for writing <code>jspsych</code> experiments in RStudio, using a combination of R Markdown and javascript. The <code>vertical</code> template example includes a basic Stroop task. For example, knitting the <code>index.Rmd</code> file produces the <code>index.html</code> file which can be run in a browser. In this case, because the experiment file is also an HTML file, it is possible to include a demonstration of running the experiment in the <code>vertical</code> website.</p>
</div>
<div id="website-customization" class="section level2">
<h2 class="hasAnchor">
<a href="#website-customization" class="anchor"></a>Website customization</h2>
</div>
<div id="sharing-a-vertical-project" class="section level2">
<h2 class="hasAnchor">
<a href="#sharing-a-vertical-project" class="anchor"></a>Sharing a vertical project</h2>
<!--


## See an example

You can check out the project template that gets loaded by vertical here [https://github.com/CrumpLab/vertical_template](https://github.com/CrumpLab/vertical_template), and the resulting website that is generated by the template here [https://github.com/CrumpLab/vertical_template](https://crumplab.github.io/vertical_template/). 

If you want to use vertical (see the instructions below), you will basically be editing/modifying the pieces of the template to suite your research project, and then generating the website to share your research assets.



## Create a new vertical project






## Using vertical

Right now vertical is mainly a project template, so using it involves using the directory structure that is set up in your new project. The basic file structure of a vertical template is described below:

### Vertical file structure

```
-- _pkgdown.yml - controls for displaying the website
-- DESCRIPTION - describe your R package if you build one
-- docs
   |__Where all the website stuff goes
-- experiments
   |__Experiment scripts and demos
-- man
   |__Any function documentation
-- manuscript
   |__Your manuscript files (e.g., writing paper in papaja)
   |__draft_manuscript.pdf
   |__draft_manuscript.Rmd
   |__draft_manuscript.tex
   |__r-references.bib
-- NAMESPACE - for R packages
-- Package Helper.R - helpful scripts for controlling vertical input/output
-- R
   |__Any R functions you want to share
-- README.md - front page of the website
-- slides
   |__Slide decks written in R
-- vertical.Rproj - the R project
-- vignettes
   |__Supplementary materials that get rendered as vignettes
```

## R packages and pkgdown

The heavy lifting to build your vertical website is all done by `pkgdown`. `pkgdown` <https://pkgdown.r-lib.org> is an R package that builds a website for R package documentation.

When you load a vertical project, the template includes a skeleton for making R packages. If you do not want to share custom functions you do not need to make use of this feature. To avoid this feature **do not press Install and Restart under the build tab in R-studio**.

In order to compile the vertical template into a website, you need to first install `pkgdown`. After that you just need to run one command `build_site()`, and boom, you've got a website.

Check out the `Vertical Helper.R` file for example code to build the site. The relevant line is:


```r
pkgdown::build_site()
```

If you are going to wade into making an R package using vertical, then I highly recommend reading [http://r-pkgs.had.co.nz](http://r-pkgs.had.co.nz). And, pay attention to the `roxygen2` option for writing function documentation.

The `pkgdown`function automatically builds .rmd files in the vignettes folder, and any R function documentation, along with all of the html for the website, and puts all of that stuff into the docs folder. This is useful, because if you upload your whole vertical project to github (as a way to share everything), you can turn on the github pages option, and the website you generate will be served from that repo.

Additionally, there are several common actions that are performed when making R packages (e.g., steps required to make a new function). The `usethis` package is very helpful for automating some of these steps. Examples are included in the `Vertical Helper.R` file.

## APA manuscript

The `manuscript` folder contains an example APA paper written using the `papaja` package. This is written in R markdown and compiled to .pdf. The .pdf is then shared on the website. More information about writing APA papers with `papaja` can be found on the `papaja` documentation site <https://crsh.github.io/papaja_man/introduction.html>

Note: that the .pdf generated must be copied by hand into the manuscript folder in the docs folder...this step will be automated in a future version of vertical.

## slides

The `slides` folder contains an example slide deck using `slidy`. The slide deck is written in R markdown (.Rmd file), and also uses custom .css to change the style of the presentation from the default. To place the generated html for the slide presentation into the docs folder you can run, from the `Vertical Helper.R` script.


```r
# render slides to docs (for display on website)
vertical::render_folder_to_docs("slides")
```

The `slides` folder can also be considered as a placeholder for any slide deck. Use this folder to write your slide deck using your preferred method. If you use an R markdown approach, and that approach produces an html slide deck, then the generated html needs to be placed in the docs folder to be rendered on the website. Also, the yml needs to be edited to point to the location of slide files in the docs folder. If your method for producing slides involves powerpoint, or say a pdf file, those can be shared on the website as well by placing those files in the docs folder and editing the yml to link to them. As vertical improves, one plan is to provide functions that automate the process of file copying and yml editing.


## experiments

The experiments folder is a place where you can save and share your experiment scripts. If you have built an experiment that can run in a web-browser, then you can even share a demo of the experiment. 

Currently, this folder contains a zip file of the most recent release of jspsych, a javascript library for running web-based behavioral experiments .

For more information on using jsPysch, check out the jsPsych documentation <https://www.jspsych.org>.


## Hosting the site

1. running `build_site()` will compile almost everything needed for the webpage into the `docs` folder.
2. If all of the files are placed in a public Github repository (free), then the Github repository can serve the website using the Github pages feature (turn this on under settings for the repository, and choose serve from docs folder)
3. In general, any file that is in the docs folder will be served to web.
4. The files in the `slides`, `manuscript`, and `experiments` folders are not automatically compiled into .html by pkgdown. So, for now, to share content from those folders I manually copy each folder into the docs folder.
5. The structure and appearance of the website can be modified (e.g., the navbar) by editing the `_pkgdown.yml` file. For more information on editing the yml file, see the pkgdown documentation.

-->
</div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-papaja">
<p>Aust, Frederik, and Marius Barth. 2018. <em>papaja: Create APA Manuscripts with R Markdown</em>. <a href="https://github.com/crsh/papaja">https://github.com/crsh/papaja</a>.</p>
</div>
<div id="ref-de2015jspsych">
<p>De Leeuw, Joshua R. 2015. “JsPsych: A Javascript Library for Creating Behavioral Experiments in a Web Browser.” <em>Behavior Research Methods</em> 47 (1): 1–12.</p>
</div>
<div id="ref-posterdown">
<p>Thorne, W. Brent. 2019. <em>Posterdown: An R Package Built to Generate Reproducible Conference Posters for the Academic and Professional World Where Powerpoint and Pages Just Won’t Cut It</em>. <a href="https://github.com/brentthorne/posterdown">https://github.com/brentthorne/posterdown</a>.</p>
</div>
<div id="ref-wickham_r_2015">
<p>Wickham, Hadley. 2015. <em>R Packages: Organize, Test, Document, and Share Your Code</em>. "O’Reilly Media, Inc.". <a href="http://r-pkgs.had.co.nz/">http://r-pkgs.had.co.nz/</a>.</p>
</div>
<div id="ref-usethis">
<p>Wickham, Hadley, and Jennifer Bryan. 2019. <em>Usethis: Automate Package and Project Setup</em>. <a href="https://CRAN.R-project.org/package=usethis">https://CRAN.R-project.org/package=usethis</a>.</p>
</div>
<div id="ref-pkgdown">
<p>Wickham, Hadley, and Jay Hesselberth. 2019. <em>Pkgdown: Make Static Html Documentation for a Package</em>. <a href="https://CRAN.R-project.org/package=pkgdown">https://CRAN.R-project.org/package=pkgdown</a>.</p>
</div>
<div id="ref-devtools">
<p>Wickham, Hadley, Jim Hester, and Winston Chang. 2019. <em>Devtools: Tools to Make Developing R Packages Easier</em>. <a href="https://CRAN.R-project.org/package=devtools">https://CRAN.R-project.org/package=devtools</a>.</p>
</div>
<div id="ref-xie2018">
<p>Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#motivation">Motivation</a></li>
      <li><a href="#install-vertical">Install vertical</a></li>
      <li>
<a href="#overview">Overview</a><ul class="nav nav-pills nav-stacked">
<li><a href="#vertical-workflow">vertical workflow</a></li>
      <li><a href="#vertical-website">vertical website</a></li>
      <li><a href="#sharing-vertical-on-github-and-osf">Sharing vertical on Github and OSF</a></li>
      </ul>
</li>
      <li>
<a href="#tutorial">Tutorial</a><ul class="nav nav-pills nav-stacked">
<li><a href="#creating-a-vertical-project">Creating a vertical project</a></li>
      <li><a href="#default-vertical-template">Default vertical template</a></li>
      <li><a href="#building-the-vertical-website">Building the vertical website</a></li>
      <li><a href="#r-packages">R Packages</a></li>
      <li><a href="#r-package-meta-data">R package meta data</a></li>
      <li><a href="#adding-r-functions">Adding R functions</a></li>
      <li><a href="#r-package-compilation">R package compilation</a></li>
      <li><a href="#adding-data">Adding Data</a></li>
      <li><a href="#apa-papers-with-papaja">APA papers with papaja</a></li>
      <li><a href="#posters-and-slide-decks">Posters and slide decks</a></li>
      <li><a href="#supplementary-materials-model-code-and-arbitary-r-markdown">Supplementary materials, model code, and arbitary R Markdown</a></li>
      <li><a href="#experiments-with-jspsych-and-jspsychr">Experiments with jspsych and jspsychr</a></li>
      <li><a href="#website-customization">Website customization</a></li>
      <li><a href="#sharing-a-vertical-project">Sharing a vertical project</a></li>
      </ul>
</li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Matt Crump, Matti Vuorre.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
