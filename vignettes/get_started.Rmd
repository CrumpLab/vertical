---
title: "Using vertical"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(vertical)
```


The idea behind vertical is to use R as platform for sharing as many components of a research project as possible, in the form of a website and R package. This template shows exmamples of sharing the following:

1. experiment scripts and final web-based experiment (written in jsPsych)
2. sample data from the experiment
  - shared as raw .csv files
  - can also be packaged in native R formats and distributed in package
3. analysis scripts (R markdown)
4. Any additional R markdown documents that could be supplemental materials, or other notes, etc.
5. APA paper (compiled to pdf), written in R using papaja
6. slide decks for a presentation (using xaringan)
7. custom functions used in the project, these can be distrubted in an R package

All of these components of a research project are stored within a slightly modified directory for creating R packages. The benefit of doing this is that the pkgdown package can be used to build a website to display and share all of the components (i.e. this website). 

## Brief overview of components

### R packages and pkgdown

pkgdown <https://pkgdown.r-lib.org> is an R package that builds a website for R package documentation. 

1. R makes it relatively easy to build an R package for the purpose of sharing functions. Create a new project in R-studio, and choose R package.

2. Then load the pkgdown library, and run build_site, this should produce a basic pkgdown website based off of the R package template.

```{r, eval=FALSE}
library(pkgdown)
build_site()
```

The file structure of the basic R package template includes the following folders:

- man: this is for function documentation
- R: contains .R scripts which define functions
- vignettes: .Rmd files placed in this folder get compiled, and shown on the website as "vignettes" or articles

There are several common actions that are performed when making R packages (e.g., steps required to make a new function). The `usethis` package is very helpful for automating some of these steps. Examples are included in the `Package Helper.R` file.

### experiments

The `experiments` folder contains an example Stroop experiment written using jsPsych. This example requires functions contained in this package <https://github.com/CrumpLab/xprmntr>. This is currently a forked and modified copy of Danielle Navarro's xprmntr package, and my version is the one that it is required to make the example work.

The sample experiment is compiled to .html, and it is linked to in the vertical website. In this way both the code and final product can be shared and viewed (e.g., someone visiting your site could run themselves through the experiment to see what it was like to be a participant).

### slides

The `slides` folder contains an example slide deck using the `xaringan` package. The slide deck is written in R markdown (.Rmd file), and also uses custom .css to change the style of the presentation from the default style from the `xaringan` package.

### APA manuscript

THe `manuscript` folder contains an example APA paper written using the `papaja` package. This is written in R markdown and compiled to .pdf. The .pdf is then shared on the website. More information about writing APA papers with `papaja` can be found on the `papaja` documentation site <https://crsh.github.io/papaja_man/introduction.html>

## Hosting the site

1. running `build_site()` will compile almost everything needed for the webpage into the `docs` folder.
2. If all of the files are placed in public Github repository (free), then the Github repository can serve the website using the Github pages feature (turn this on under settings for the repository, and choose serve from docs folder)
3. In general, any file that is in the docs folder will be served to web.
4. The files in the `slides`, `manuscript`, and `experiments` folders are not automatically compiled into .html by pkgdown. So, for now, to share content from those folders I manually copy each folder into the docs folder.
5. The structure and appearance of the website can be modified (e.g., the navbar) by editing the `_pkgdown.yml` file.





